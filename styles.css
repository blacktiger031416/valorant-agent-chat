:root {
  --val-red: #ff4655;
  --val-dark: #0f1114;
  --val-gray: #1b1d23;
  --val-border: #252830;
  --val-text: #e9e9ea;
  --val-muted: #9b9b9b;
  --val-glow: rgba(255, 70, 85, 0.6);
  --font: 'Rajdhani', sans-serif;
}

* { box-sizing: border-box; font-family: var(--font); letter-spacing: .03em; }
body {
  background: radial-gradient(circle at center, #1b1d23 0%, #0b0c0e 70%);
  color: var(--val-text);
  margin: 0;
  display: grid;
  grid-template-rows: auto 1fr auto;
}

/* Header / Footer */
.val-header{display:flex;justify-content:center;padding:20px 0;background:linear-gradient(180deg, rgba(255,70,85,.1), transparent);border-bottom:1px solid var(--val-border)}
.val-logo{width:120px;filter:drop-shadow(0 0 6px var(--val-glow))}
.val-footer{text-align:center;padding:14px;color:var(--val-muted);border-top:1px solid var(--val-border)}

/* Layout */
.wrap{max-width:1100px;margin:0 auto;padding:20px;display:grid;gap:16px}

/* Agent bar */
.agent-bar{display:grid;grid-template-columns:repeat(4,1fr);gap:10px}
.agent-btn{
  display:flex;align-items:center;gap:12px;padding:10px 14px;border-radius:10px;border:1px solid var(--val-border);
  background:var(--val-gray);color:var(--val-text);cursor:pointer;transition:.2s ease
}
.agent-btn:hover{border-color:var(--val-red);box-shadow:0 0 10px var(--val-glow);transform:translateY(-2px)}
.agent-btn img{width:48px;height:48px;border-radius:8px;object-fit:cover}
.agent-btn .name{color:#fff;font-weight:700}
.agent-btn .role{color:var(--val-muted);font-size:.8rem}

/* Panel */
.pad{
  position:relative;background:linear-gradient(145deg,#121417,#0d0e10);
  border:1px solid var(--val-border);border-radius:16px;padding:10px;opacity:0;transform:scale(.98);
  transition:opacity .3s ease,transform .3s ease;box-shadow:0 0 20px rgba(0,0,0,.4)
}
.pad.open{opacity:1;transform:scale(1);box-shadow:0 0 25px rgba(255,70,85,.15)}
.pad-top{display:flex;justify-content:space-between;align-items:center;padding:6px 10px;border-bottom:1px solid var(--val-border)}
.pill{background:var(--val-red);color:#fff;border-radius:8px;padding:4px 10px;font-size:.8rem;font-weight:700;box-shadow:0 0 8px var(--val-glow)}
.icon-btn{background:none;border:1px solid var(--val-border);color:var(--val-text);border-radius:6px;padding:4px 8px;cursor:pointer;transition:.2s}
.icon-btn:hover{color:var(--val-red);border-color:var(--val-red)}
.pad-body{display:grid;grid-template-columns:320px 1fr;min-height:340px;margin-top:10px;gap:10px}

/* Left */
.pad-left{border-right:1px solid var(--val-border);padding:10px}
.agent-card{display:flex;align-items:center;gap:10px;background:#141518;border:1px solid var(--val-border);border-radius:10px;padding:10px}
.agent-card img{width:80px;height:80px;border-radius:10px}
.agent-meta h2{margin:0;color:#fff;font-weight:700}
.agent-meta p{margin:2px 0 0;color:var(--val-muted);font-size:.85rem}
.quick-section{margin-top:16px}
.quick-section h3{margin-bottom:8px;color:var(--val-muted);font-weight:700;font-size:.9rem}
.quick-grid{display:grid;grid-template-columns:1fr 1fr;gap:8px}
.quick-btn{background:#1a1c20;border:1px solid var(--val-border);color:var(--val-text);border-radius:8px;padding:8px;cursor:pointer;transition:.2s}
.quick-btn:hover{border-color:var(--val-red);box-shadow:0 0 8px var(--val-glow)}

/* Right */
.pad-right{padding:10px}
.pad-screen{background:#101215;border:1px solid var(--val-border);border-radius:10px;overflow:hidden;position:relative}
.screen-overlay{position:absolute;inset:0;background:linear-gradient(180deg, rgba(255,70,85,.05), transparent 60%);animation:pulse 3s ease-in-out infinite}
@keyframes pulse{0%,100%{opacity:.6}50%{opacity:.3}}
.screen-head{padding:10px;background:rgba(255,70,85,.08);border-bottom:1px solid var(--val-border);display:flex;justify-content:space-between}
.screen-head span{font-size:.9rem;font-weight:600;color:var(--val-text)}
.light-dot{width:10px;height:10px;border-radius:50%;background:var(--val-red);box-shadow:0 0 8px var(--val-glow);animation:blink 1.5s infinite}
@keyframes blink{50%{opacity:.4}}
.screen-feed{height:260px;overflow-y:auto;padding:10px}
.feed-row{font-size:.85rem;color:var(--val-muted);margin-bottom:6px}

/* Chat */
.chat-wrap{display:grid;grid-template-rows:1fr auto;gap:10px}
.messages{background:#121417;border:1px solid var(--val-border);border-radius:10px;padding:12px;overflow-y:auto}
.msg{padding:8px 10px;margin:6px 0;border-radius:8px;line-height:1.4;max-width:80%;word-wrap:break-word}
.msg.user{background:rgba(255,70,85,.1);border:1px solid var(--val-red);margin-left:auto}
.msg.bot{background:#1a1c20;border:1px solid var(--val-border)}
.chat-form{display:grid;grid-template-columns:1fr auto;gap:10px}
#user-input{background:#0f1114;color:var(--val-text);border:1px solid var(--val-border);border-radius:6px;padding:10px;outline:none}
#user-input:focus{border-color:var(--val-red);box-shadow:0 0 8px var(--val-glow)}
button{background:var(--val-red);color:#fff;border:none;border-radius:6px;padding:10px 18px;font-weight:700;cursor:pointer;transition:.2s}
button:hover{filter:brightness(1.2);box-shadow:0 0 12px var(--val-glow)}

/* ====== TRANSITIONS (닫힘 → V 스윽 → 열림) ====== */
/* 패널 전체 닫힘/열림 */
.pad.closing{animation:padClose .32s ease forwards}
.pad.opening{animation:padOpen .42s cubic-bezier(.2,.9,.2,1.15) forwards}
@keyframes padClose{from{transform:scale(1);opacity:1}to{transform:scale(.92) translateY(6px);opacity:.4}}
@keyframes padOpen{from{transform:scale(.96) translateY(4px);opacity:.2}to{transform:scale(1);opacity:1}}

/* 붉은 V 스윽 */
.v-swoosh{
  position:absolute; inset:0; pointer-events:none; overflow:hidden; z-index:5;
}
.v-swoosh::before{
  content:""; position:absolute; inset:-20% -10%;
  background:
    linear-gradient(135deg, transparent 46%, var(--val-red) 47%, var(--val-red) 53%, transparent 54%),
    linear-gradient(225deg, transparent 46%, var(--val-red) 47%, var(--val-red) 53%, transparent 54%);
  opacity:.0; transform:translateY(40px) scale(1.2); filter:blur(1px);
  animation:vSweep .42s ease forwards;
}
@keyframes vSweep{
  0%{opacity:.0; transform:translateY(40px) scale(1.2)}
  40%{opacity:.7}
  100%{opacity:0; transform:translateY(-40px) scale(1.05)}
}

/* Scrollbars */
.messages::-webkit-scrollbar,.screen-feed::-webkit-scrollbar{width:10px}
.messages::-webkit-scrollbar-thumb,.screen-feed::-webkit-scrollbar-thumb{background:#2a2d36;border-radius:8px}
.messages::-webkit-scrollbar-track,.screen-feed::-webkit-scrollbar-track{background:#0b0c0f}

/* Responsive */
@media (max-width: 980px){
  .pad-body{grid-template-columns:1fr}
  .agent-bar{grid-template-columns:repeat(2,1fr)}
}
